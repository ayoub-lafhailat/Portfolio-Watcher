@page
@model Portfolio_Watcher.Pages.TradeViewModel
@{
    ViewData["Title"] = "Trades";
}

<div class="page-wrapper">

    <!-- Top navigatie -->
    <header class="top-nav">
        <nav>
            <ul class="menu">
                <li><a href="#">Portfolio</a></li>
                <li><a href="#">Converter</a></li>
                <li><a href="#">Nieuws</a></li>
                <li><a href="#">Watchlist</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hoofdcontent -->
    <main class="content">

        <!-- Actieknoppen boven de tabel -->
        <div class="toolbar">
            <form method="post">
                <button type="submit" asp-page-handler="Sorted" asp-route-sorter="Symbol">
                    Sort Symbol
                </button>

                <button type="submit" asp-page-handler="Sorted" asp-route-sorter="PositionSize">
                    Sort Position Size
                </button>

                <button type="submit" asp-page-handler="Sorted" asp-route-sorter="Date">
                    Sort Date
                </button>
            </form>
        </div>

        <!-- Overzicht van trades -->
        <section class="trades-table-wrapper">
            <table class="trades-table">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Position Size</th>
                        <th>Change%</th>
                        <th>Profit Loss</th>
                        <th>Shares</th>
                        <th>BuyPrice</th>
                        <th>SellPrice</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Trades != null && Model.Trades.Any())
                    {
                        foreach (var trade in Model.Trades)
                        {
                            <tr>
                                <!-- Data die je echt hebt -->
                                <td>@trade.Symbol</td>
                                <td>@trade.PositionSize</td> <!-- hier gebruik je de service-uitkomst -->
                                <td>@trade.ChangePercentage</td>              @* Change% (nog geen veld) *@
                                <td>@trade.ProfitLoss</td>              @* Profit Loss (nog geen veld) *@
                                <td>@trade.Shares</td>  @* Shares *@
                                <td>@trade.BuyPrice</td> @*  BuyPrice-berekening *@
                                <td>@trade.SellPrice</td> @* Sellprice (nog geen veld) *@
                                <td>-</td>              @* Date (nog geen veld) *@

                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="15" style="text-align:center;">
                                Geen trades gevonden.
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </section>

    </main>

</div>
